<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript" src="js/libs/flexible0-3-4.js"></script>
		<link rel="stylesheet" href="css/reset_170324.css" />

		<style type="text/css">
			#box {
				position: relative;
				background-color: cyan;
				height: 10rem;
				overflow: hidden;
			}
			
			#div1 {
				width: 3rem;
				height: 3rem;
				background-color: orangered;
				position: absolute;
				left: 0;
			}
			
			#div1>img{
				float: left;
				width: 100%;
				height: 100%;
			}
		</style>
	</head>

	<body>
		<div id="box">
			<div id="div1" style="top: 0;">
				<img src="img/lbxx.jpg" />
			</div>
		</div>

		<script type="text/javascript" src="js/libs/jquery.min.js"></script>
		<script type="text/javascript" src="js/libs/clip_related/jquery.hammer.min.js" ></script>
		<script type="text/javascript">
		//旧版本的hanmmer使用实现想要的效果
			$(document).ready(function(){
				var posX = 0;
				var posY = 0;
				var lastPosX = 0;
				var lastPosY = 0;
				var hm = $("#div1")[0];
				var ObjHammer = Hammer(hm);
	
				ObjHammer.on("drag dragend", function(ev) {
					ev.preventDefault(); //取消事件的默认动作（重要）
					switch(ev.type) {
						case 'drag':
							posX = ev.gesture.deltaX + lastPosX;
							posY = ev.gesture.deltaY + lastPosY;
							break;
						case 'dragend':
							lastPosX = posX;
							lastPosY = posY;
							break;
					}
//					transform = "translate(" + posX + "px," + posY + "px)";
//					hm.style.transform = transform;
//					hm.style.oTransform = transform;
//					hm.style.msTransform = transform;
//					hm.style.mozTransform = transform;
//					hm.style.webkitTransform = transform;

					//transform和marginTop,marginTop都可行
					
					var mx = hm.style.marginLeft;
					mx = mx.substr(0,mx.length-2);
					console.log(mx);
					var my = hm.style.marginTop;
					my = my.substr(0,my.length-2);
					console.log(my);
					
					hm.style.marginLeft = (posX) + 'px';
					hm.style.marginTop = (posY) + 'px';
				});
			})
		</script>
	</body>

</html>