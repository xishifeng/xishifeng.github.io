<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			body{height: 10000px;}
		</style>
	</head>

	<body>
		<script type="text/javascript">
			var i = 0;
			
			var throttleV2 = function(fn, delay, mustRunDelay) {
				var timer = null;
				var t_start;
				return function() {
					var context = this,
						args = arguments,
						t_curr = +new Date();
					clearTimeout(timer);
					if(!t_start) {
						t_start = t_curr;
					}
					if(t_curr - t_start >= mustRunDelay) {
						fn.apply(context, args);
						t_start = t_curr;
					} else {
						timer = setTimeout(function() {
							fn.apply(context, args);
						}, delay);
					}
				}
			}
			//window.onresize = throttleV2(myFunc, 50, 100);
			window.onscroll = throttleV2(function(){console.log(i++);}, 1000, 2000);
			//延迟1000ms执行，但每2000ms必执行一次
		</script>
	</body>

</html>