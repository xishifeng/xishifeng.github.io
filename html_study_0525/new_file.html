<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

	<body>
		<script type="text/javascript">
			if(needShowLoading) {
				deferred.always(function() {
					self.hideLoading();
				});
			}

			if(useDefaltFailMsg) {
				deferred.fail(function() {
					self.showToast('网络错误，请稍后重试');
				});
			}
			return deferred;
			},
			/**
			 * 针对不同平台做的路由和条件查询参数
			 */
			bulidUrlParam: function(url) {
					var url = url.match(/\?appUrl\=(\w+)\&(.*)/);
					return url;
				},
				/**
				 * 针对不同平台的页面跳转处理
				 */
				navigateToApp: function(url) {
					if(mobileUtil.isIos) {
						window.webkit.messageHandlers.AppModel.postMessage({
							'route': this.bulidUrlParam(url)[1],
							'param': this.bulidUrlParam(url)[2]
						});
					} else if(mobileUtil.isAndroid) {
						window.fragmentIntentOperate.getJSParams(this.bulidUrlParam(url)[1], this.bulidUrlParam(url)[2]);
					} else {
						console.log('navigateToApp: ' + url);
					}
				},
				/**
				 * 针对不同平台加载Webview的方法
				 */
				initWebview: function(url) {
					if(mobileUtil.isIos) {
						window.webkit.messageHandlers.AppModel.postMessage({
							'route': 'jumWebview',
							'param': url
						});
					} else if(mobileUtil.isAndroid) {
						window.fragmentIntentOperate.getJSParams('jumWebview', url);
					} else {
						console.log('initWebview: ' + url);
						History.navigate(url, {
							type: 'pushState'
						})
					}
				},
				showMask: UIMask.show,
				hideMask: UIMask.hide,
				showLoading: function(useMask) {
					if(useMask !== false) {
						useMask = true;
					}
					UILoading.show(useMask);
				},
				hideLoading: UILoading.hide,
		</script>
	</body>

</html>